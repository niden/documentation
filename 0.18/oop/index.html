<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Zephir is an open source, high-level/domain specific language designed to  ease the creation and maintainability of extensions for PHP with a focus  on type and memory safety."><meta name=author content="Phalcon Team"><link href=https://docs.zephir-lang.com/0.18/oop/ rel=canonical><link href=../arrays/ rel=prev><link href=../builtin-methods/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.15"><title>Classed and Objects - Zephir Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.7e359304.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Titillium+Web:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Titillium Web";--md-code-font:"Source Code Pro"}</style><link rel=stylesheet href=../assets/css/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#classes-and-objects class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Zephir Documentation" class="md-header__button md-logo" aria-label="Zephir Documentation" data-md-component=logo> <img src=../assets/images/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Zephir Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Classed and Objects </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent=purple aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=teal aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/zephir-lang/documentation title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> zephir-lang/documentation </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../introduction/ class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../installation/ class=md-tabs__link> Getting Started </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../language/ class=md-tabs__link> Core </a> </li> <li class=md-tabs__item> <a href=../functions/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../lifecycle/ class=md-tabs__link> Advanced </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Zephir Documentation" class="md-nav__button md-logo" aria-label="Zephir Documentation" data-md-component=logo> <img src=../assets/images/logo.svg alt=logo> </a> Zephir Documentation </label> <div class=md-nav__source> <a href=https://github.com/zephir-lang/documentation title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> zephir-lang/documentation </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../motivation/ class=md-nav__link> <span class=md-ellipsis> Why Zephir </span> </a> </li> <li class=md-nav__item> <a href=../license/ class=md-nav__link> <span class=md-ellipsis> License </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_4> <label class=md-nav__link for=__nav_1_4 id=__nav_1_4_label tabindex=0> <span class=md-ellipsis> Changelog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> Changelog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://github.com/zephir-lang/zephir/blob/development/CHANGELOG.md class=md-nav__link> <span class=md-ellipsis> Current Version </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_5> <label class=md-nav__link for=__nav_1_5 id=__nav_1_5_label tabindex=0> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_5_label aria-expanded=false> <label class=md-nav__title for=__nav_1_5> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://github.com/zephir-lang/zephir/blob/development/CONTRIBUTING.md class=md-nav__link> <span class=md-ellipsis> Contributions </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/orgs/zephir-lang/discussions class=md-nav__link> <span class=md-ellipsis> Asking a question </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/zephir-lang/zephir/issues class=md-nav__link> <span class=md-ellipsis> Requesting a change </span> </a> </li> <li class=md-nav__item> <a href=https://github.com/zephir-lang/zephir/pulls class=md-nav__link> <span class=md-ellipsis> Issuing a Pull Request </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../tutorial/ class=md-nav__link> <span class=md-ellipsis> Tutorial </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex> <span class=md-ellipsis> Core </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=true> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../language/ class=md-nav__link> <span class=md-ellipsis> Basic Syntax </span> </a> </li> <li class=md-nav__item> <a href=../types/ class=md-nav__link> <span class=md-ellipsis> Types </span> </a> </li> <li class=md-nav__item> <a href=../operators/ class=md-nav__link> <span class=md-ellipsis> Operators </span> </a> </li> <li class=md-nav__item> <a href=../operator-precedence/ class=md-nav__link> <span class=md-ellipsis> Operator Precedence </span> </a> </li> <li class=md-nav__item> <a href=../arrays/ class=md-nav__link> <span class=md-ellipsis> Arrays </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Classed and Objects </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Classed and Objects </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#class-modifiers class=md-nav__link> <span class=md-ellipsis> Class Modifiers </span> </a> </li> <li class=md-nav__item> <a href=#implementing-interfaces class=md-nav__link> <span class=md-ellipsis> Implementing Interfaces </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementing-methods class=md-nav__link> <span class=md-ellipsis> Implementing Methods </span> </a> <nav class=md-nav aria-label="Implementing Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#optional-nullable-parameters class=md-nav__link> <span class=md-ellipsis> Optional nullable parameters </span> </a> </li> <li class=md-nav__item> <a href=#supported-visibilities class=md-nav__link> <span class=md-ellipsis> Supported Visibilities </span> </a> </li> <li class=md-nav__item> <a href=#supported-modifiers class=md-nav__link> <span class=md-ellipsis> Supported Modifiers </span> </a> </li> <li class=md-nav__item> <a href=#gettersetter-shortcuts class=md-nav__link> <span class=md-ellipsis> Getter/Setter shortcuts </span> </a> </li> <li class=md-nav__item> <a href=#return-type-hints class=md-nav__link> <span class=md-ellipsis> Return Type Hints </span> </a> </li> <li class=md-nav__item> <a href=#return-type-void class=md-nav__link> <span class=md-ellipsis> Return Type: Void </span> </a> </li> <li class=md-nav__item> <a href=#strictflexible-parameter-data-types class=md-nav__link> <span class=md-ellipsis> Strict/Flexible Parameter Data-Types </span> </a> </li> <li class=md-nav__item> <a href=#read-only-parameters class=md-nav__link> <span class=md-ellipsis> Read-Only Parameters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementing-properties class=md-nav__link> <span class=md-ellipsis> Implementing Properties </span> </a> </li> <li class=md-nav__item> <a href=#updating-properties class=md-nav__link> <span class=md-ellipsis> Updating Properties </span> </a> </li> <li class=md-nav__item> <a href=#reading-properties class=md-nav__link> <span class=md-ellipsis> Reading Properties </span> </a> </li> <li class=md-nav__item> <a href=#class-constants class=md-nav__link> <span class=md-ellipsis> Class Constants </span> </a> </li> <li class=md-nav__item> <a href=#calling-methods class=md-nav__link> <span class=md-ellipsis> Calling Methods </span> </a> <nav class=md-nav aria-label="Calling Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#parameters-by-name class=md-nav__link> <span class=md-ellipsis> Parameters by Name </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../builtin-methods/ class=md-nav__link> <span class=md-ellipsis> Built-in methods </span> </a> </li> <li class=md-nav__item> <a href=../control-structures/ class=md-nav__link> <span class=md-ellipsis> Control structures </span> </a> </li> <li class=md-nav__item> <a href=../exceptions/ class=md-nav__link> <span class=md-ellipsis> Exceptions </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../functions/ class=md-nav__link> <span class=md-ellipsis> Calling functions </span> </a> </li> <li class=md-nav__item> <a href=../closures/ class=md-nav__link> <span class=md-ellipsis> Closures </span> </a> </li> <li class=md-nav__item> <a href=../optimizers/ class=md-nav__link> <span class=md-ellipsis> Custom optimizers </span> </a> </li> <li class=md-nav__item> <a href=../config/ class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> <li class=md-nav__item> <a href=../command-line/ class=md-nav__link> <span class=md-ellipsis> Command Line </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../lifecycle/ class=md-nav__link> <span class=md-ellipsis> Lifecycle hooks </span> </a> </li> <li class=md-nav__item> <a href=../globals/ class=md-nav__link> <span class=md-ellipsis> Extension globals </span> </a> </li> <li class=md-nav__item> <a href=../phpinfo/ class=md-nav__link> <span class=md-ellipsis> phpinfo() sections </span> </a> </li> <li class=md-nav__item> <a href=../static-analysis/ class=md-nav__link> <span class=md-ellipsis> Static analysis </span> </a> </li> <li class=md-nav__item> <a href=../optimizations/ class=md-nav__link> <span class=md-ellipsis> Optimizations </span> </a> </li> <li class=md-nav__item> <a href=../warnings/ class=md-nav__link> <span class=md-ellipsis> Compiler warnings </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> <nav class=md-nav aria-label=Classes> <ul class=md-nav__list> <li class=md-nav__item> <a href=#class-modifiers class=md-nav__link> <span class=md-ellipsis> Class Modifiers </span> </a> </li> <li class=md-nav__item> <a href=#implementing-interfaces class=md-nav__link> <span class=md-ellipsis> Implementing Interfaces </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementing-methods class=md-nav__link> <span class=md-ellipsis> Implementing Methods </span> </a> <nav class=md-nav aria-label="Implementing Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#optional-nullable-parameters class=md-nav__link> <span class=md-ellipsis> Optional nullable parameters </span> </a> </li> <li class=md-nav__item> <a href=#supported-visibilities class=md-nav__link> <span class=md-ellipsis> Supported Visibilities </span> </a> </li> <li class=md-nav__item> <a href=#supported-modifiers class=md-nav__link> <span class=md-ellipsis> Supported Modifiers </span> </a> </li> <li class=md-nav__item> <a href=#gettersetter-shortcuts class=md-nav__link> <span class=md-ellipsis> Getter/Setter shortcuts </span> </a> </li> <li class=md-nav__item> <a href=#return-type-hints class=md-nav__link> <span class=md-ellipsis> Return Type Hints </span> </a> </li> <li class=md-nav__item> <a href=#return-type-void class=md-nav__link> <span class=md-ellipsis> Return Type: Void </span> </a> </li> <li class=md-nav__item> <a href=#strictflexible-parameter-data-types class=md-nav__link> <span class=md-ellipsis> Strict/Flexible Parameter Data-Types </span> </a> </li> <li class=md-nav__item> <a href=#read-only-parameters class=md-nav__link> <span class=md-ellipsis> Read-Only Parameters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementing-properties class=md-nav__link> <span class=md-ellipsis> Implementing Properties </span> </a> </li> <li class=md-nav__item> <a href=#updating-properties class=md-nav__link> <span class=md-ellipsis> Updating Properties </span> </a> </li> <li class=md-nav__item> <a href=#reading-properties class=md-nav__link> <span class=md-ellipsis> Reading Properties </span> </a> </li> <li class=md-nav__item> <a href=#class-constants class=md-nav__link> <span class=md-ellipsis> Class Constants </span> </a> </li> <li class=md-nav__item> <a href=#calling-methods class=md-nav__link> <span class=md-ellipsis> Calling Methods </span> </a> <nav class=md-nav aria-label="Calling Methods"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#parameters-by-name class=md-nav__link> <span class=md-ellipsis> Parameters by Name </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/zephir-lang/documentation/edit/master/docs/oop.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/zephir-lang/documentation/raw/master/docs/oop.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1 id=classes-and-objects>Classes and Objects<a class=headerlink href=#classes-and-objects title="Permanent link">&para;</a></h1> <p>Zephir promotes object-oriented programming. This is why you can only export methods and classes in extensions. Also you will see that, most of the time, runtime errors raise exceptions instead of fatal errors or warnings.</p> <h2 id=classes>Classes<a class=headerlink href=#classes title="Permanent link">&para;</a></h2> <p>Every Zephir file must implement a class or an interface (and just one). A class structure is very similar to a PHP class:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>namespace Test;
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a>/**
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a> * This is a sample class
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a> */
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>class MyClass
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>{
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>}
</code></pre></div> <h3 id=class-modifiers>Class Modifiers<a class=headerlink href=#class-modifiers title="Permanent link">&para;</a></h3> <p>The following class modifiers are supported:</p> <p><code>final</code>: If a class has this modifier it cannot be extended:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a>namespace Test;
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a>/**
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a> * This class cannot be extended by another class
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a> */
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>final class MyClass
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>{
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a>}
</code></pre></div> <p><code>abstract</code>: If a class has this modifier it cannot be instantiated:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a>namespace Test;
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a>/**
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a> * This class cannot be instantiated
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a> */
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>abstract class MyClass
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a>{
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>}
</code></pre></div> <h3 id=implementing-interfaces>Implementing Interfaces<a class=headerlink href=#implementing-interfaces title="Permanent link">&para;</a></h3> <p>Zephir classes can implement any number of interfaces, provided that these interfaces are <code>visible</code> for the class to use. However, there are times that the Zephir class (and subsequently extension) might require to implement an interface that is built in a different extension.</p> <p>If we want to implement the <code>MiddlewareInterface</code> from the <code>PSR</code> extension, we will need to create a <code>stub</code> interface:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a>// middlewareinterfaceex.zep
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>namespace Test\Oo\Extend;
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a>use Psr\Http\Server\MiddlewareInterface;
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a>interface MiddlewareInterfaceEx extends MiddlewareInterface
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a>{
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>}
</code></pre></div> <p>From here we can use the <code>stub</code> interface throughout our extension.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=sd>/**</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=sd> * @test</span>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=sd> */</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=k>public</span> <span class=k>function</span> <span class=nf>shouldExtendMiddlewareInterface</span><span class=p>()</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=p>{</span>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a>    <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=nb>extension_loaded</span><span class=p>(</span><span class=s1>&#39;psr&#39;</span><span class=p>))</span> <span class=p>{</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a>        <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>markTestSkipped</span><span class=p>(</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>            <span class=s2>&quot;The psr extension is not loaded&quot;</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>        <span class=p>);</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>    <span class=p>}</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>    <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>assertTrue</span><span class=p>(</span>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a>        <span class=nb>is_subclass_of</span><span class=p>(</span><span class=nx>MiddlewareInterfaceEx</span><span class=o>::</span><span class=na>class</span><span class=p>,</span> <span class=s1>&#39;Psr\Http\Server\MiddlewareInterface&#39;</span><span class=p>)</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a>    <span class=p>);</span>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=p>}</span>
</code></pre></div> <p><strong>NOTE</strong> It is the developer's responsibility to ensure that all external references are present before the extension is loaded. So for the example above, one has to load the <a href=https://pecl.php.net/package/psr>PSR</a> extension <strong>first</strong> before the Zephir built extension is loaded.</p> <h2 id=implementing-methods>Implementing Methods<a class=headerlink href=#implementing-methods title="Permanent link">&para;</a></h2> <p>The <code>function</code> keyword introduces a method. Methods implement the usual visibility modifiers available in PHP. Explicitly setting a visibility modifier is mandatory in Zephir:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a>namespace Test;
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a>class MyClass
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>{
<a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a>
<a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a>    public function myPublicMethod()
<a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a>    {
<a id=__codelineno-5-8 name=__codelineno-5-8 href=#__codelineno-5-8></a>        // ...
<a id=__codelineno-5-9 name=__codelineno-5-9 href=#__codelineno-5-9></a>    }
<a id=__codelineno-5-10 name=__codelineno-5-10 href=#__codelineno-5-10></a>
<a id=__codelineno-5-11 name=__codelineno-5-11 href=#__codelineno-5-11></a>    protected function myProtectedMethod()
<a id=__codelineno-5-12 name=__codelineno-5-12 href=#__codelineno-5-12></a>    {
<a id=__codelineno-5-13 name=__codelineno-5-13 href=#__codelineno-5-13></a>        // ...
<a id=__codelineno-5-14 name=__codelineno-5-14 href=#__codelineno-5-14></a>    }
<a id=__codelineno-5-15 name=__codelineno-5-15 href=#__codelineno-5-15></a>
<a id=__codelineno-5-16 name=__codelineno-5-16 href=#__codelineno-5-16></a>    private function myPrivateMethod()
<a id=__codelineno-5-17 name=__codelineno-5-17 href=#__codelineno-5-17></a>    {
<a id=__codelineno-5-18 name=__codelineno-5-18 href=#__codelineno-5-18></a>        // ...
<a id=__codelineno-5-19 name=__codelineno-5-19 href=#__codelineno-5-19></a>    }
<a id=__codelineno-5-20 name=__codelineno-5-20 href=#__codelineno-5-20></a>}
</code></pre></div> <p>Methods can receive required and optional parameters:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a>namespace Test;
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a>class MyClass
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a>{
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a>    /**
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>     * All parameters are required
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>     */
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>    public function doSum1(a, b)
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a>    {
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>        return a + b;
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a>    }
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a>
<a id=__codelineno-6-14 name=__codelineno-6-14 href=#__codelineno-6-14></a>    /**
<a id=__codelineno-6-15 name=__codelineno-6-15 href=#__codelineno-6-15></a>     * Only &#39;a&#39; is required, &#39;b&#39; is optional and it has a default value
<a id=__codelineno-6-16 name=__codelineno-6-16 href=#__codelineno-6-16></a>     */
<a id=__codelineno-6-17 name=__codelineno-6-17 href=#__codelineno-6-17></a>    public function doSum2(a, b = 3)
<a id=__codelineno-6-18 name=__codelineno-6-18 href=#__codelineno-6-18></a>    {
<a id=__codelineno-6-19 name=__codelineno-6-19 href=#__codelineno-6-19></a>        return a + b;
<a id=__codelineno-6-20 name=__codelineno-6-20 href=#__codelineno-6-20></a>    }
<a id=__codelineno-6-21 name=__codelineno-6-21 href=#__codelineno-6-21></a>
<a id=__codelineno-6-22 name=__codelineno-6-22 href=#__codelineno-6-22></a>    /**
<a id=__codelineno-6-23 name=__codelineno-6-23 href=#__codelineno-6-23></a>     * Both parameters are optional
<a id=__codelineno-6-24 name=__codelineno-6-24 href=#__codelineno-6-24></a>     */
<a id=__codelineno-6-25 name=__codelineno-6-25 href=#__codelineno-6-25></a>    public function doSum3(a = 1, b = 2)
<a id=__codelineno-6-26 name=__codelineno-6-26 href=#__codelineno-6-26></a>    {
<a id=__codelineno-6-27 name=__codelineno-6-27 href=#__codelineno-6-27></a>        return a + b;
<a id=__codelineno-6-28 name=__codelineno-6-28 href=#__codelineno-6-28></a>    }
<a id=__codelineno-6-29 name=__codelineno-6-29 href=#__codelineno-6-29></a>
<a id=__codelineno-6-30 name=__codelineno-6-30 href=#__codelineno-6-30></a>    /**
<a id=__codelineno-6-31 name=__codelineno-6-31 href=#__codelineno-6-31></a>     * Parameters are required and their values must be integer
<a id=__codelineno-6-32 name=__codelineno-6-32 href=#__codelineno-6-32></a>     */
<a id=__codelineno-6-33 name=__codelineno-6-33 href=#__codelineno-6-33></a>    public function doSum4(int a, int b)
<a id=__codelineno-6-34 name=__codelineno-6-34 href=#__codelineno-6-34></a>    {
<a id=__codelineno-6-35 name=__codelineno-6-35 href=#__codelineno-6-35></a>        return a + b;
<a id=__codelineno-6-36 name=__codelineno-6-36 href=#__codelineno-6-36></a>    }
<a id=__codelineno-6-37 name=__codelineno-6-37 href=#__codelineno-6-37></a>
<a id=__codelineno-6-38 name=__codelineno-6-38 href=#__codelineno-6-38></a>    /**
<a id=__codelineno-6-39 name=__codelineno-6-39 href=#__codelineno-6-39></a>     * Static typed with default values
<a id=__codelineno-6-40 name=__codelineno-6-40 href=#__codelineno-6-40></a>     */
<a id=__codelineno-6-41 name=__codelineno-6-41 href=#__codelineno-6-41></a>    public function doSum4(int a = 4, int b = 2)
<a id=__codelineno-6-42 name=__codelineno-6-42 href=#__codelineno-6-42></a>    {
<a id=__codelineno-6-43 name=__codelineno-6-43 href=#__codelineno-6-43></a>        return a + b;
<a id=__codelineno-6-44 name=__codelineno-6-44 href=#__codelineno-6-44></a>    }
<a id=__codelineno-6-45 name=__codelineno-6-45 href=#__codelineno-6-45></a>}
</code></pre></div> <h3 id=optional-nullable-parameters>Optional nullable parameters<a class=headerlink href=#optional-nullable-parameters title="Permanent link">&para;</a></h3> <p>Zephir ensures that the value of a variable remains of the type the variable was declared as. This makes Zephir convert the <code>null</code> value to the closest approximate value:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a>public function foo(int a = null)
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>{
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a>    echo a; // if &quot;a&quot; is not passed it prints 0
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a>}
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a>public function foo(boolean a = null)
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>{
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a>    echo a; // if &quot;a&quot; is not passed it prints false
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a>}
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a>public function foo(string a = null)
<a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a>{
<a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a>    echo a; // if &quot;a&quot; is not passed it prints an empty string
<a id=__codelineno-7-14 name=__codelineno-7-14 href=#__codelineno-7-14></a>}
<a id=__codelineno-7-15 name=__codelineno-7-15 href=#__codelineno-7-15></a>
<a id=__codelineno-7-16 name=__codelineno-7-16 href=#__codelineno-7-16></a>public function foo(array a = null)
<a id=__codelineno-7-17 name=__codelineno-7-17 href=#__codelineno-7-17></a>{
<a id=__codelineno-7-18 name=__codelineno-7-18 href=#__codelineno-7-18></a>    var_dump(a); // if &quot;a&quot; is not passed it prints an empty array
<a id=__codelineno-7-19 name=__codelineno-7-19 href=#__codelineno-7-19></a>}
</code></pre></div> <h3 id=supported-visibilities>Supported Visibilities<a class=headerlink href=#supported-visibilities title="Permanent link">&para;</a></h3> <ul> <li>Public: Methods marked as <code>public</code> are exported to the PHP extension; this means that public methods are visible to the PHP code as well to the extension itself.</li> <li>Protected: Methods marked as <code>protected</code> are exported to the PHP extension; this means that protected methods are visible to the PHP code as well to the extension itself. However, protected methods can only be called in the scope of the class or in classes that inherit them.</li> <li>Private: Methods marked as <code>private</code> are not exported to the PHP extension; this means that private methods are only visible to the class where they're implemented.</li> </ul> <h3 id=supported-modifiers>Supported Modifiers<a class=headerlink href=#supported-modifiers title="Permanent link">&para;</a></h3> <ul> <li><code>static</code>: Methods with this modifier can only be called in a static context (from the class, not an object).</li> <li><code>final</code>: If a method has this modifier it cannot be overriden.</li> <li><code>deprecated</code>: Methods marked as <code>deprecated</code> throw an <code>E_DEPRECATED</code> error when they are called.</li> </ul> <h3 id=gettersetter-shortcuts>Getter/Setter shortcuts<a class=headerlink href=#gettersetter-shortcuts title="Permanent link">&para;</a></h3> <p>Like in C#, you can use <code>get</code>/<code>set</code>/<code>toString</code> shortcuts in Zephir. This feature allows you to easily write setters and getters for properties, without explicitly implementing those methods as such.</p> <p>For example, without shortcuts we would need code like:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a>namespace Test;
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a>class MyClass
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>{
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a>    protected myProperty;
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a>    protected someProperty = 10;
<a id=__codelineno-8-8 name=__codelineno-8-8 href=#__codelineno-8-8></a>
<a id=__codelineno-8-9 name=__codelineno-8-9 href=#__codelineno-8-9></a>    public function setMyProperty(myProperty)
<a id=__codelineno-8-10 name=__codelineno-8-10 href=#__codelineno-8-10></a>    {
<a id=__codelineno-8-11 name=__codelineno-8-11 href=#__codelineno-8-11></a>        let this-&gt;myProperty = myProperty;
<a id=__codelineno-8-12 name=__codelineno-8-12 href=#__codelineno-8-12></a>    }
<a id=__codelineno-8-13 name=__codelineno-8-13 href=#__codelineno-8-13></a>
<a id=__codelineno-8-14 name=__codelineno-8-14 href=#__codelineno-8-14></a>    public function getMyProperty()
<a id=__codelineno-8-15 name=__codelineno-8-15 href=#__codelineno-8-15></a>    {
<a id=__codelineno-8-16 name=__codelineno-8-16 href=#__codelineno-8-16></a>        return this-&gt;myProperty;
<a id=__codelineno-8-17 name=__codelineno-8-17 href=#__codelineno-8-17></a>    }
<a id=__codelineno-8-18 name=__codelineno-8-18 href=#__codelineno-8-18></a>
<a id=__codelineno-8-19 name=__codelineno-8-19 href=#__codelineno-8-19></a>    public function setSomeProperty(someProperty)
<a id=__codelineno-8-20 name=__codelineno-8-20 href=#__codelineno-8-20></a>    {
<a id=__codelineno-8-21 name=__codelineno-8-21 href=#__codelineno-8-21></a>        let this-&gt;someProperty = someProperty;
<a id=__codelineno-8-22 name=__codelineno-8-22 href=#__codelineno-8-22></a>    }
<a id=__codelineno-8-23 name=__codelineno-8-23 href=#__codelineno-8-23></a>
<a id=__codelineno-8-24 name=__codelineno-8-24 href=#__codelineno-8-24></a>    public function getSomeProperty()
<a id=__codelineno-8-25 name=__codelineno-8-25 href=#__codelineno-8-25></a>    {
<a id=__codelineno-8-26 name=__codelineno-8-26 href=#__codelineno-8-26></a>        return this-&gt;someProperty;
<a id=__codelineno-8-27 name=__codelineno-8-27 href=#__codelineno-8-27></a>    }
<a id=__codelineno-8-28 name=__codelineno-8-28 href=#__codelineno-8-28></a>
<a id=__codelineno-8-29 name=__codelineno-8-29 href=#__codelineno-8-29></a>    public function __toString()
<a id=__codelineno-8-30 name=__codelineno-8-30 href=#__codelineno-8-30></a>    {
<a id=__codelineno-8-31 name=__codelineno-8-31 href=#__codelineno-8-31></a>        return this-&gt;myProperty;
<a id=__codelineno-8-32 name=__codelineno-8-32 href=#__codelineno-8-32></a>    }
<a id=__codelineno-8-33 name=__codelineno-8-33 href=#__codelineno-8-33></a>}
</code></pre></div> <p>You can write the same code using shortcuts as follows:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a>namespace App;
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a>class MyClass
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>{
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a>    protected myProperty {
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a>        set, get, toString
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>    };
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>    protected someProperty = 10 {
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>        set, get
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>    };
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>}
</code></pre></div> <p>When the code is compiled, those methods are exported as real methods, but you don't have to write them manually.</p> <h3 id=return-type-hints>Return Type Hints<a class=headerlink href=#return-type-hints title="Permanent link">&para;</a></h3> <p>Methods in classes and interfaces can have "return type hints". These will provide useful extra information to the compiler to inform you about errors in your application. Consider the following example:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a>namespace App;
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a>class MyClass
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>{
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a>    public function getSomeData() -&gt; string
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>    {
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a>        // this will throw a compiler exception
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>        // since the returned value (boolean) does not match
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>        // the expected returned type string
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>        return false;
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>    }
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a>
<a id=__codelineno-10-13 name=__codelineno-10-13 href=#__codelineno-10-13></a>    public function getSomeOther() -&gt; &lt;App\MyInterface&gt;
<a id=__codelineno-10-14 name=__codelineno-10-14 href=#__codelineno-10-14></a>    {
<a id=__codelineno-10-15 name=__codelineno-10-15 href=#__codelineno-10-15></a>        // this will throw a compiler exception
<a id=__codelineno-10-16 name=__codelineno-10-16 href=#__codelineno-10-16></a>        // if the returned object does not implement
<a id=__codelineno-10-17 name=__codelineno-10-17 href=#__codelineno-10-17></a>        // the expected interface App\MyInterface
<a id=__codelineno-10-18 name=__codelineno-10-18 href=#__codelineno-10-18></a>        return new App\MyObject;
<a id=__codelineno-10-19 name=__codelineno-10-19 href=#__codelineno-10-19></a>    }
<a id=__codelineno-10-20 name=__codelineno-10-20 href=#__codelineno-10-20></a>
<a id=__codelineno-10-21 name=__codelineno-10-21 href=#__codelineno-10-21></a>    public function process()
<a id=__codelineno-10-22 name=__codelineno-10-22 href=#__codelineno-10-22></a>    {
<a id=__codelineno-10-23 name=__codelineno-10-23 href=#__codelineno-10-23></a>        var myObject;
<a id=__codelineno-10-24 name=__codelineno-10-24 href=#__codelineno-10-24></a>
<a id=__codelineno-10-25 name=__codelineno-10-25 href=#__codelineno-10-25></a>        // the type-hint will tell the compiler that
<a id=__codelineno-10-26 name=__codelineno-10-26 href=#__codelineno-10-26></a>        // myObject is an instance of a class
<a id=__codelineno-10-27 name=__codelineno-10-27 href=#__codelineno-10-27></a>        // that implement App\MyInterface
<a id=__codelineno-10-28 name=__codelineno-10-28 href=#__codelineno-10-28></a>        let myObject = this-&gt;getSomeOther();
<a id=__codelineno-10-29 name=__codelineno-10-29 href=#__codelineno-10-29></a>
<a id=__codelineno-10-30 name=__codelineno-10-30 href=#__codelineno-10-30></a>        // the compiler will check if App\MyInterface
<a id=__codelineno-10-31 name=__codelineno-10-31 href=#__codelineno-10-31></a>        // implements a method called &quot;someMethod&quot;
<a id=__codelineno-10-32 name=__codelineno-10-32 href=#__codelineno-10-32></a>        echo myObject-&gt;someMethod();
<a id=__codelineno-10-33 name=__codelineno-10-33 href=#__codelineno-10-33></a>    }
<a id=__codelineno-10-34 name=__codelineno-10-34 href=#__codelineno-10-34></a>}
</code></pre></div> <p>A method can have more than one return type. When multiple types are defined, the operator <code>|</code> must be used to separate those types.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a>namespace App;
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a>class MyClass
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a>{
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a>    public function getSomeData(a) -&gt; string | bool
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a>    {
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a>        if a == false {
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>            return false;
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a>        }
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>        return &quot;error&quot;;
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>    }
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>}
</code></pre></div> <h3 id=return-type-void>Return Type: Void<a class=headerlink href=#return-type-void title="Permanent link">&para;</a></h3> <p>Methods can also be marked as <code>void</code>. This means that a method is not allowed to return any data:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a>public function setConnection(connection) -&gt; void
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>{
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a>    let this-&gt;_connection = connection;
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a>}
</code></pre></div> <p>Why is this useful? Because the compiler can detect if the program is expecting a return value from these methods, and produce a compiler exception:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a>let myDb = db-&gt;setConnection(connection); // this will produce an exception
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a>myDb-&gt;execute(&quot;SELECT * FROM robots&quot;);
</code></pre></div> <h3 id=strictflexible-parameter-data-types>Strict/Flexible Parameter Data-Types<a class=headerlink href=#strictflexible-parameter-data-types title="Permanent link">&para;</a></h3> <p>In Zephir, you can specify the data type of each parameter of a method. By default, these data-types are flexible; this means that if a value with a wrong (but compatible) data-type is passed, Zephir will try to transparently convert it to the expected one:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1 href=#__codelineno-14-1></a>public function filterText(string text, boolean escape=false)
<a id=__codelineno-14-2 name=__codelineno-14-2 href=#__codelineno-14-2></a>{
<a id=__codelineno-14-3 name=__codelineno-14-3 href=#__codelineno-14-3></a>    //...
<a id=__codelineno-14-4 name=__codelineno-14-4 href=#__codelineno-14-4></a>}
</code></pre></div> <p>Above method will work with the following calls:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-15-1 name=__codelineno-15-1 href=#__codelineno-15-1></a>&lt;?php
<a id=__codelineno-15-2 name=__codelineno-15-2 href=#__codelineno-15-2></a>
<a id=__codelineno-15-3 name=__codelineno-15-3 href=#__codelineno-15-3></a>$o-&gt;filterText(1111, 1);              // OK
<a id=__codelineno-15-4 name=__codelineno-15-4 href=#__codelineno-15-4></a>$o-&gt;filterText(&quot;some text&quot;, null);    // OK
<a id=__codelineno-15-5 name=__codelineno-15-5 href=#__codelineno-15-5></a>$o-&gt;filterText(null, true);           // OK
<a id=__codelineno-15-6 name=__codelineno-15-6 href=#__codelineno-15-6></a>$o-&gt;filterText(&quot;some text&quot;, true);    // OK
<a id=__codelineno-15-7 name=__codelineno-15-7 href=#__codelineno-15-7></a>$o-&gt;filterText(array(1, 2, 3), true); // FAIL
</code></pre></div> <p>However, passing a wrong type could often lead to bugs. Improper use of a specific API would produce unexpected results. You can disallow the automatic conversion by setting the parameter with a strict data-type:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-16-1 name=__codelineno-16-1 href=#__codelineno-16-1></a>public function filterText(string text, boolean escape=false)
<a id=__codelineno-16-2 name=__codelineno-16-2 href=#__codelineno-16-2></a>{
<a id=__codelineno-16-3 name=__codelineno-16-3 href=#__codelineno-16-3></a>    //...
<a id=__codelineno-16-4 name=__codelineno-16-4 href=#__codelineno-16-4></a>}
</code></pre></div> <p>Now, most of the calls with a wrong type will cause an exception due to the invalid data types passed:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-17-1 name=__codelineno-17-1 href=#__codelineno-17-1></a>&lt;?php
<a id=__codelineno-17-2 name=__codelineno-17-2 href=#__codelineno-17-2></a>
<a id=__codelineno-17-3 name=__codelineno-17-3 href=#__codelineno-17-3></a>$o-&gt;filterText(1111, 1);              // FAIL
<a id=__codelineno-17-4 name=__codelineno-17-4 href=#__codelineno-17-4></a>$o-&gt;filterText(&quot;some text&quot;, null);    // OK
<a id=__codelineno-17-5 name=__codelineno-17-5 href=#__codelineno-17-5></a>$o-&gt;filterText(null, true);           // FAIL
<a id=__codelineno-17-6 name=__codelineno-17-6 href=#__codelineno-17-6></a>$o-&gt;filterText(&quot;some text&quot;, true);    // OK
<a id=__codelineno-17-7 name=__codelineno-17-7 href=#__codelineno-17-7></a>$o-&gt;filterText(array(1, 2, 3), true); // FAIL
</code></pre></div> <p>By specifying what parameters are strict and what can be flexible, a developer can set the specific behavior he/she really wants.</p> <h3 id=read-only-parameters>Read-Only Parameters<a class=headerlink href=#read-only-parameters title="Permanent link">&para;</a></h3> <p>Using the keyword <code>const</code> you can mark parameters as read-only, this helps to respect <a href=https://en.wikipedia.org/wiki/Const_(computer_programming)>const-correctness</a>. Parameters marked with this attribute cannot be modified inside the method:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-18-1 name=__codelineno-18-1 href=#__codelineno-18-1></a>namespace App;
<a id=__codelineno-18-2 name=__codelineno-18-2 href=#__codelineno-18-2></a>
<a id=__codelineno-18-3 name=__codelineno-18-3 href=#__codelineno-18-3></a>class MyClass
<a id=__codelineno-18-4 name=__codelineno-18-4 href=#__codelineno-18-4></a>{
<a id=__codelineno-18-5 name=__codelineno-18-5 href=#__codelineno-18-5></a>    // &quot;a&quot; is read-only
<a id=__codelineno-18-6 name=__codelineno-18-6 href=#__codelineno-18-6></a>    public function getSomeData(const string a)
<a id=__codelineno-18-7 name=__codelineno-18-7 href=#__codelineno-18-7></a>    {
<a id=__codelineno-18-8 name=__codelineno-18-8 href=#__codelineno-18-8></a>        // this will throw a compiler exception
<a id=__codelineno-18-9 name=__codelineno-18-9 href=#__codelineno-18-9></a>        let a = &quot;hello&quot;;
<a id=__codelineno-18-10 name=__codelineno-18-10 href=#__codelineno-18-10></a>    }
<a id=__codelineno-18-11 name=__codelineno-18-11 href=#__codelineno-18-11></a>}
</code></pre></div> <p>When a parameter is declared as read-only, the compiler can make safe assumptions and perform further optimizations over these variables.</p> <h2 id=implementing-properties>Implementing Properties<a class=headerlink href=#implementing-properties title="Permanent link">&para;</a></h2> <p>Class member variables are called "properties". By default, they act the same as PHP properties. Properties are exported to the PHP extension, and are visible from PHP code. Properties implement the usual visibility modifiers available in PHP, and explicitly setting a visibility modifier is mandatory in Zephir:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-19-1 name=__codelineno-19-1 href=#__codelineno-19-1></a>namespace Test;
<a id=__codelineno-19-2 name=__codelineno-19-2 href=#__codelineno-19-2></a>
<a id=__codelineno-19-3 name=__codelineno-19-3 href=#__codelineno-19-3></a>class MyClass
<a id=__codelineno-19-4 name=__codelineno-19-4 href=#__codelineno-19-4></a>{
<a id=__codelineno-19-5 name=__codelineno-19-5 href=#__codelineno-19-5></a>    public myProperty1;
<a id=__codelineno-19-6 name=__codelineno-19-6 href=#__codelineno-19-6></a>
<a id=__codelineno-19-7 name=__codelineno-19-7 href=#__codelineno-19-7></a>    protected myProperty2;
<a id=__codelineno-19-8 name=__codelineno-19-8 href=#__codelineno-19-8></a>
<a id=__codelineno-19-9 name=__codelineno-19-9 href=#__codelineno-19-9></a>    private myProperty3;
<a id=__codelineno-19-10 name=__codelineno-19-10 href=#__codelineno-19-10></a>}
</code></pre></div> <p>Within class methods, non-static properties may be accessed by using <code>-&gt;</code> (Object Operator):</p> <div class=highlight><pre><span></span><code><a id=__codelineno-20-1 name=__codelineno-20-1 href=#__codelineno-20-1></a>namespace Test;
<a id=__codelineno-20-2 name=__codelineno-20-2 href=#__codelineno-20-2></a>
<a id=__codelineno-20-3 name=__codelineno-20-3 href=#__codelineno-20-3></a>class MyClass
<a id=__codelineno-20-4 name=__codelineno-20-4 href=#__codelineno-20-4></a>{
<a id=__codelineno-20-5 name=__codelineno-20-5 href=#__codelineno-20-5></a>
<a id=__codelineno-20-6 name=__codelineno-20-6 href=#__codelineno-20-6></a>    protected myProperty;
<a id=__codelineno-20-7 name=__codelineno-20-7 href=#__codelineno-20-7></a>
<a id=__codelineno-20-8 name=__codelineno-20-8 href=#__codelineno-20-8></a>    public function setMyProperty(var myProperty)
<a id=__codelineno-20-9 name=__codelineno-20-9 href=#__codelineno-20-9></a>    {
<a id=__codelineno-20-10 name=__codelineno-20-10 href=#__codelineno-20-10></a>        let this-&gt;myProperty = myProperty;
<a id=__codelineno-20-11 name=__codelineno-20-11 href=#__codelineno-20-11></a>    }
<a id=__codelineno-20-12 name=__codelineno-20-12 href=#__codelineno-20-12></a>
<a id=__codelineno-20-13 name=__codelineno-20-13 href=#__codelineno-20-13></a>    public function getMyProperty()
<a id=__codelineno-20-14 name=__codelineno-20-14 href=#__codelineno-20-14></a>    {
<a id=__codelineno-20-15 name=__codelineno-20-15 href=#__codelineno-20-15></a>        return this-&gt;myProperty;
<a id=__codelineno-20-16 name=__codelineno-20-16 href=#__codelineno-20-16></a>    }
<a id=__codelineno-20-17 name=__codelineno-20-17 href=#__codelineno-20-17></a>}
</code></pre></div> <p>Properties can have literal compatible default values. These values must be able to be evaluated at compile time and must not depend on run-time information in order to be evaluated:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-21-1 name=__codelineno-21-1 href=#__codelineno-21-1></a>namespace Test;
<a id=__codelineno-21-2 name=__codelineno-21-2 href=#__codelineno-21-2></a>
<a id=__codelineno-21-3 name=__codelineno-21-3 href=#__codelineno-21-3></a>class MyClass
<a id=__codelineno-21-4 name=__codelineno-21-4 href=#__codelineno-21-4></a>{
<a id=__codelineno-21-5 name=__codelineno-21-5 href=#__codelineno-21-5></a>
<a id=__codelineno-21-6 name=__codelineno-21-6 href=#__codelineno-21-6></a>    protected myProperty1 = null;
<a id=__codelineno-21-7 name=__codelineno-21-7 href=#__codelineno-21-7></a>    protected myProperty2 = false;
<a id=__codelineno-21-8 name=__codelineno-21-8 href=#__codelineno-21-8></a>    protected myProperty3 = 2.0;
<a id=__codelineno-21-9 name=__codelineno-21-9 href=#__codelineno-21-9></a>    protected myProperty4 = 5;
<a id=__codelineno-21-10 name=__codelineno-21-10 href=#__codelineno-21-10></a>    protected myProperty5 = &quot;my value&quot;;
<a id=__codelineno-21-11 name=__codelineno-21-11 href=#__codelineno-21-11></a>}
</code></pre></div> <h2 id=updating-properties>Updating Properties<a class=headerlink href=#updating-properties title="Permanent link">&para;</a></h2> <p>Properties can be updated by accessing them using the <code>-&gt;</code> operator:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-22-1 name=__codelineno-22-1 href=#__codelineno-22-1></a>let this-&gt;myProperty = 100;
</code></pre></div> <p>Zephir checks that properties exist when a program is accessing them. If a property is not declared, you will get a compiler exception:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-23-1 name=__codelineno-23-1 href=#__codelineno-23-1></a>CompilerException:<span class=w> </span>Property<span class=w> </span><span class=s1>&#39;_optionsx&#39;</span><span class=w> </span>is<span class=w> </span>not<span class=w> </span>defined<span class=w> </span>on<span class=w> </span>class<span class=w> </span><span class=s1>&#39;App\MyClass&#39;</span><span class=w> </span><span class=k>in</span><span class=w> </span>/Users/scott/utils/app/myclass.zep<span class=w> </span>on<span class=w> </span>line<span class=w> </span><span class=m>62</span>
<a id=__codelineno-23-2 name=__codelineno-23-2 href=#__codelineno-23-2></a>
<a id=__codelineno-23-3 name=__codelineno-23-3 href=#__codelineno-23-3></a><span class=w>      </span><span class=nb>let</span><span class=w> </span>this-&gt;_optionsx<span class=w> </span><span class=o>=</span><span class=w> </span>options<span class=p>;</span>
<a id=__codelineno-23-4 name=__codelineno-23-4 href=#__codelineno-23-4></a><span class=w>      </span>------------^
</code></pre></div> <p>If you want to avoid this compiler validation, or just create a property dynamically, you can enclose the property name using brackets and string quotes:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-24-1 name=__codelineno-24-1 href=#__codelineno-24-1></a>let this-&gt;{&quot;myProperty&quot;} = 100;
</code></pre></div> <p>You can also use a simple variable to update a property; the property name will be taken from the variable:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-25-1 name=__codelineno-25-1 href=#__codelineno-25-1></a>let someProperty = &quot;myProperty&quot;;
<a id=__codelineno-25-2 name=__codelineno-25-2 href=#__codelineno-25-2></a>let this-&gt;{someProperty} = 100;
</code></pre></div> <h2 id=reading-properties>Reading Properties<a class=headerlink href=#reading-properties title="Permanent link">&para;</a></h2> <p>Properties can be read by accessing them using the <code>-&gt;</code> operator:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-26-1 name=__codelineno-26-1 href=#__codelineno-26-1></a>echo this-&gt;myProperty;
</code></pre></div> <p>As when updating, properties can be dynamically read this way:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-27-1 name=__codelineno-27-1 href=#__codelineno-27-1></a>// Avoid compiler check or read a dynamic user defined property
<a id=__codelineno-27-2 name=__codelineno-27-2 href=#__codelineno-27-2></a>echo this-&gt;{&quot;myProperty&quot;};
<a id=__codelineno-27-3 name=__codelineno-27-3 href=#__codelineno-27-3></a>
<a id=__codelineno-27-4 name=__codelineno-27-4 href=#__codelineno-27-4></a>// Read using a variable name
<a id=__codelineno-27-5 name=__codelineno-27-5 href=#__codelineno-27-5></a>let someProperty = &quot;myProperty&quot;;
<a id=__codelineno-27-6 name=__codelineno-27-6 href=#__codelineno-27-6></a>echo this-&gt;{someProperty}
</code></pre></div> <h2 id=class-constants>Class Constants<a class=headerlink href=#class-constants title="Permanent link">&para;</a></h2> <p>Classes may contain class constants that remain the same and unchangeable once the extension is compiled. Class constants are exported to the PHP extension, allowing them to be used from PHP.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-28-1 name=__codelineno-28-1 href=#__codelineno-28-1></a>namespace Test;
<a id=__codelineno-28-2 name=__codelineno-28-2 href=#__codelineno-28-2></a>
<a id=__codelineno-28-3 name=__codelineno-28-3 href=#__codelineno-28-3></a>class MyClass
<a id=__codelineno-28-4 name=__codelineno-28-4 href=#__codelineno-28-4></a>{
<a id=__codelineno-28-5 name=__codelineno-28-5 href=#__codelineno-28-5></a>    const MYCONSTANT1 = false;
<a id=__codelineno-28-6 name=__codelineno-28-6 href=#__codelineno-28-6></a>    const MYCONSTANT2 = 1.0;
<a id=__codelineno-28-7 name=__codelineno-28-7 href=#__codelineno-28-7></a>}
</code></pre></div> <p>Class constants can be accessed using the class name and the static operator <code>::</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-29-1 name=__codelineno-29-1 href=#__codelineno-29-1></a>namespace Test;
<a id=__codelineno-29-2 name=__codelineno-29-2 href=#__codelineno-29-2></a>
<a id=__codelineno-29-3 name=__codelineno-29-3 href=#__codelineno-29-3></a>class MyClass
<a id=__codelineno-29-4 name=__codelineno-29-4 href=#__codelineno-29-4></a>{
<a id=__codelineno-29-5 name=__codelineno-29-5 href=#__codelineno-29-5></a>
<a id=__codelineno-29-6 name=__codelineno-29-6 href=#__codelineno-29-6></a>    const MYCONSTANT1 = false;
<a id=__codelineno-29-7 name=__codelineno-29-7 href=#__codelineno-29-7></a>    const MYCONSTANT2 = 1.0;
<a id=__codelineno-29-8 name=__codelineno-29-8 href=#__codelineno-29-8></a>
<a id=__codelineno-29-9 name=__codelineno-29-9 href=#__codelineno-29-9></a>    public function someMethod()
<a id=__codelineno-29-10 name=__codelineno-29-10 href=#__codelineno-29-10></a>    {
<a id=__codelineno-29-11 name=__codelineno-29-11 href=#__codelineno-29-11></a>        return MyClass::MYCONSTANT1;
<a id=__codelineno-29-12 name=__codelineno-29-12 href=#__codelineno-29-12></a>    }
<a id=__codelineno-29-13 name=__codelineno-29-13 href=#__codelineno-29-13></a>}
</code></pre></div> <h2 id=calling-methods>Calling Methods<a class=headerlink href=#calling-methods title="Permanent link">&para;</a></h2> <p>Methods can be called using the object operator <code>-&gt;</code> as in PHP:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-30-1 name=__codelineno-30-1 href=#__codelineno-30-1></a>namespace Test;
<a id=__codelineno-30-2 name=__codelineno-30-2 href=#__codelineno-30-2></a>
<a id=__codelineno-30-3 name=__codelineno-30-3 href=#__codelineno-30-3></a>class MyClass
<a id=__codelineno-30-4 name=__codelineno-30-4 href=#__codelineno-30-4></a>{
<a id=__codelineno-30-5 name=__codelineno-30-5 href=#__codelineno-30-5></a>    protected function _someHiddenMethod(a, b)
<a id=__codelineno-30-6 name=__codelineno-30-6 href=#__codelineno-30-6></a>    {
<a id=__codelineno-30-7 name=__codelineno-30-7 href=#__codelineno-30-7></a>        return a - b;
<a id=__codelineno-30-8 name=__codelineno-30-8 href=#__codelineno-30-8></a>    }
<a id=__codelineno-30-9 name=__codelineno-30-9 href=#__codelineno-30-9></a>
<a id=__codelineno-30-10 name=__codelineno-30-10 href=#__codelineno-30-10></a>    public function someMethod(c, d)
<a id=__codelineno-30-11 name=__codelineno-30-11 href=#__codelineno-30-11></a>    {
<a id=__codelineno-30-12 name=__codelineno-30-12 href=#__codelineno-30-12></a>        return this-&gt;_someHiddenMethod(c, d);
<a id=__codelineno-30-13 name=__codelineno-30-13 href=#__codelineno-30-13></a>    }
<a id=__codelineno-30-14 name=__codelineno-30-14 href=#__codelineno-30-14></a>}
</code></pre></div> <p>Static methods must be called using the static operator <code>::</code>:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-31-1 name=__codelineno-31-1 href=#__codelineno-31-1></a>namespace Test;
<a id=__codelineno-31-2 name=__codelineno-31-2 href=#__codelineno-31-2></a>
<a id=__codelineno-31-3 name=__codelineno-31-3 href=#__codelineno-31-3></a>class MyClass
<a id=__codelineno-31-4 name=__codelineno-31-4 href=#__codelineno-31-4></a>{
<a id=__codelineno-31-5 name=__codelineno-31-5 href=#__codelineno-31-5></a>    protected static function _someHiddenMethod(a, b)
<a id=__codelineno-31-6 name=__codelineno-31-6 href=#__codelineno-31-6></a>    {
<a id=__codelineno-31-7 name=__codelineno-31-7 href=#__codelineno-31-7></a>        return a - b;
<a id=__codelineno-31-8 name=__codelineno-31-8 href=#__codelineno-31-8></a>    }
<a id=__codelineno-31-9 name=__codelineno-31-9 href=#__codelineno-31-9></a>
<a id=__codelineno-31-10 name=__codelineno-31-10 href=#__codelineno-31-10></a>    public static function someMethod(c, d)
<a id=__codelineno-31-11 name=__codelineno-31-11 href=#__codelineno-31-11></a>    {
<a id=__codelineno-31-12 name=__codelineno-31-12 href=#__codelineno-31-12></a>        return self::_someHiddenMethod(c, d);
<a id=__codelineno-31-13 name=__codelineno-31-13 href=#__codelineno-31-13></a>    }
<a id=__codelineno-31-14 name=__codelineno-31-14 href=#__codelineno-31-14></a>}
</code></pre></div> <p>You can call methods in a dynamic manner as follows:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-32-1 name=__codelineno-32-1 href=#__codelineno-32-1></a>namespace Test;
<a id=__codelineno-32-2 name=__codelineno-32-2 href=#__codelineno-32-2></a>
<a id=__codelineno-32-3 name=__codelineno-32-3 href=#__codelineno-32-3></a>class MyClass
<a id=__codelineno-32-4 name=__codelineno-32-4 href=#__codelineno-32-4></a>{
<a id=__codelineno-32-5 name=__codelineno-32-5 href=#__codelineno-32-5></a>    protected adapter;
<a id=__codelineno-32-6 name=__codelineno-32-6 href=#__codelineno-32-6></a>
<a id=__codelineno-32-7 name=__codelineno-32-7 href=#__codelineno-32-7></a>    public function setAdapter(var adapter)
<a id=__codelineno-32-8 name=__codelineno-32-8 href=#__codelineno-32-8></a>    {
<a id=__codelineno-32-9 name=__codelineno-32-9 href=#__codelineno-32-9></a>        let this-&gt;adapter = adapter;
<a id=__codelineno-32-10 name=__codelineno-32-10 href=#__codelineno-32-10></a>    }
<a id=__codelineno-32-11 name=__codelineno-32-11 href=#__codelineno-32-11></a>
<a id=__codelineno-32-12 name=__codelineno-32-12 href=#__codelineno-32-12></a>    public function someMethod(var methodName)
<a id=__codelineno-32-13 name=__codelineno-32-13 href=#__codelineno-32-13></a>    {
<a id=__codelineno-32-14 name=__codelineno-32-14 href=#__codelineno-32-14></a>        return this-&gt;adapter-&gt;{methodName}();
<a id=__codelineno-32-15 name=__codelineno-32-15 href=#__codelineno-32-15></a>    }
<a id=__codelineno-32-16 name=__codelineno-32-16 href=#__codelineno-32-16></a>}
</code></pre></div> <h3 id=parameters-by-name>Parameters by Name<a class=headerlink href=#parameters-by-name title="Permanent link">&para;</a></h3> <p>Zephir supports calling method parameters by name or keyword arguments. Named parameters can be useful if you want to pass parameters in an arbitrary order, document the meaning of parameters, or specify parameters in a more elegant way.</p> <p>Consider the following example. A class called <code>Image</code> has a method that receives four parameters:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-33-1 name=__codelineno-33-1 href=#__codelineno-33-1></a>namespace Test;
<a id=__codelineno-33-2 name=__codelineno-33-2 href=#__codelineno-33-2></a>
<a id=__codelineno-33-3 name=__codelineno-33-3 href=#__codelineno-33-3></a>class Image
<a id=__codelineno-33-4 name=__codelineno-33-4 href=#__codelineno-33-4></a>{
<a id=__codelineno-33-5 name=__codelineno-33-5 href=#__codelineno-33-5></a>    public function chop(width = 600, height = 400, x = 0, y = 0)
<a id=__codelineno-33-6 name=__codelineno-33-6 href=#__codelineno-33-6></a>    {
<a id=__codelineno-33-7 name=__codelineno-33-7 href=#__codelineno-33-7></a>        //...
<a id=__codelineno-33-8 name=__codelineno-33-8 href=#__codelineno-33-8></a>    }
<a id=__codelineno-33-9 name=__codelineno-33-9 href=#__codelineno-33-9></a>}
</code></pre></div> <p>Using the standard method calling approach:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-34-1 name=__codelineno-34-1 href=#__codelineno-34-1></a>i-&gt;chop(100);             // width=100, height=400, x=0, y=0
<a id=__codelineno-34-2 name=__codelineno-34-2 href=#__codelineno-34-2></a>i-&gt;chop(100, 50, 10, 20); // width=100, height=50, x=10, y=20
</code></pre></div> <p>Using named parameters, you can:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-35-1 name=__codelineno-35-1 href=#__codelineno-35-1></a>i-&gt;chop(width: 100);              // width=100, height=400, x=0, y=0
<a id=__codelineno-35-2 name=__codelineno-35-2 href=#__codelineno-35-2></a>i-&gt;chop(height: 200);             // width=600, height=200, x=0, y=0
<a id=__codelineno-35-3 name=__codelineno-35-3 href=#__codelineno-35-3></a>i-&gt;chop(height: 200, width: 100); // width=100, height=200, x=0, y=0
<a id=__codelineno-35-4 name=__codelineno-35-4 href=#__codelineno-35-4></a>i-&gt;chop(x: 20, y: 30);            // width=600, height=400, x=20, y=30
</code></pre></div> <p>When the compiler (at compile time) does not know the correct order of these parameters, they must be resolved at runtime. In this case, there could be a minimum additional extra overhead:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-36-1 name=__codelineno-36-1 href=#__codelineno-36-1></a>let i = new {someClass}();
<a id=__codelineno-36-2 name=__codelineno-36-2 href=#__codelineno-36-2></a>i-&gt;chop(y: 30, x: 20);
</code></pre></div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../arrays/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Arrays"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Arrays </div> </div> </a> <a href=../builtin-methods/ class="md-footer__link md-footer__link--next" aria-label="Next: Built-in methods"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Built-in methods </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2012 - present Phalcon Team </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/zephir-lang target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": 0.18, "provider": "mike"}}</script> <script src=../assets/javascripts/bundle.bd41221c.min.js></script> </body> </html>